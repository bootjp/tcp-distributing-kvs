version: "3.7"
services:

  lvs:
    image: haproxy:latest
    ports:
      - "8080:80"
    volumes:
      - ./:/usr/local/etc/haproxy/
    command: haproxy -f /usr/local/etc/haproxy/haproxy.cfg

  master_kvs:
    image: redis:alpine
    ports:
      - "6379:6379"

  slave_kvs:
    image: redis:alpine
    ports:
      - "6380:6379"

  queue_primary:
    image: redis:alpine
    ports:
      - "63790:6379"

  queue_secondary:
    image: redis:alpine
    ports:
      - "63791:6379"

  dummy_1:
    image: nginx

  dummy_2:
    image: nginx
